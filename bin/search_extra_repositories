#!/bin/bash

set -ex

# Check if an argument is provided
if [ $# -ne 1 ]; then
    echo "Usage: $0 <directory_name> [more_directory_names...]"
    exit 1
fi

# Execute the find command with the provided arguments
result=""
for dir in "$@"; do
    dir_result=$(find / -type d -name "$dir" -print -quit 2>/dev/null)
    if [ -n "$dir_result" ]; then
        result+=",$dir_result"
    else
        echo "Directory with name $dir not found."
    fi
done

# Add ADDONS_DIR to addons_path.
echo "addons_path=${ADDONS_PATH},${ADDONS_DIR},$result" >> ${ODOO_RC}
cat ${ODOO_RC}

exit 0